<!DOCTYPE html>
<html>
<head>
    <title>Video Uploader</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">
    <style>
        .header-image {
            width: 100%;
            height: 30vh;
            object-fit: cover;
            object-position: center center;
            background-position: center center;
        }



        #car {
  position: absolute;
  top: 50%;
  left: -100px;
  width: 100px;
  background-size: cover;
  animation: drive 2s infinite;
}

@keyframes drive {
  0% {
    left: -100px;
  }
  100% {
    left: 90%;
  }
}


    </style>
</head>
<body class="pb-5">
<header>
    <img src="{{ url_for('static', path='/1.jpg') }}"
         class="header-image">

</header>

<div class="container mt-5">


    <h1>Обработка видеофиксации транспорта</h1>
    <form id="uploadForm">
        <div class="mb-3">
            <label for="videoInput" class="form-label">Загрузите видео</label>
            <input type="file" class="form-control" id="videoInput" accept="video/mp4" required multiple>
        </div>
        <div class="mb-3">
            <label for="jsonInput" class="form-label">Загрузите JSON-файлы</label>
            <input type="file" class="form-control" id="jsonInput" accept=".json" required multiple>
        </div>
        <!--        <div class="form-group mb-3">-->
        <!--            <label style="mb-2">Режим проверки</label><br>-->
        <!--            <div class="form-check form-check-inline">-->
        <!--                <input class="form-check-input" type="radio" name="type" id="type1" value="1">-->
        <!--                <label class="form-check-label" for="type1">Оба направления</label>-->
        <!--            </div>-->
        <!--            <div class="form-check form-check-inline">-->
        <!--                <input class="form-check-input" type="radio" name="type" id="type2" value="2">-->
        <!--                <label class="form-check-label" for="type2">От камеры</label>-->
        <!--            </div>-->
        <!--            <div class="form-check form-check-inline">-->
        <!--                <input class="form-check-input" type="radio" name="type" id="type3" value="3">-->
        <!--                <label class="form-check-label" for="type3">К камере</label>-->
        <!--            </div>-->
        <!--        </div>-->
        <button type="submit" class="btn btn-primary">Отправить</button>
    </form>
<img src="{{ url_for('static', path='/supercar2.jpg') }}" id="car" class="d-none">

    <button id="download_finish" class="btn btn-warning mt-4" onclick="downloadFile()">Скачать
        результат в формате CSV
    </button>
    <div id="loader" class="mt-3 d-none">
        <div class="spinner-border" role="status">
            <span class="visually-hidden">Loading...</span>
        </div>
    </div>

    <div class="table-container mt-2">
        <table class="d-none table" id="result_table">
            <thead>
            <tr>
                <th>file_name</th>
                <th>car</th>
                <th>quantity_car</th>
                <th>average_speed_car</th>
                <th>van</th>
                <th>quantity_van</th>
                <th>average_speed_van</th>
                <th>bus</th>
                <th>quantity_bus</th>
                <th>average_speed_bus</th>
            </tr>
            </thead>
            <tbody id="tableContent">

            </tbody>
        </table>
    </div>
    <div id="no_violation" class="mt-3 d-none">
        <p>Нарушителей не найдено</p>
    </div>
</div>
<script src="{{ url_for('static', path='/script.js') }}"></script>
</body>
</html>